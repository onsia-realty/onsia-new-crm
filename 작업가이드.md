
# ì˜¨ì‹œì•„ ê³ ê°ê´€ë¦¬ì¹´ë“œ ì‹œìŠ¤í…œ êµ¬í˜„ ì‘ì—… ê°€ì´ë“œ

## âœ… ì™„ë£Œëœ ì‘ì—… (2025-01-08)

### 1. DB ìŠ¤í‚¤ë§ˆ ìˆ˜ì • ì™„ë£Œ
- âœ… Customer ëª¨ë¸ì— ê°œì¸ì •ë³´ í•„ë“œ ì¶”ê°€ (gender, ageRange, residenceArea, familyRelation, occupation)
- âœ… Customer ëª¨ë¸ì— ì˜ì—…ì •ë³´ í•„ë“œ ì¶”ê°€ (source, investmentStyle, expectedBudget, ownedProperties, recentVisitedMH)
- âœ… Enum íƒ€ì… ì •ì˜ (Gender, AgeRange, CustomerSource)
- âœ… CallLog ëª¨ë¸ ê°„ì†Œí™” (content, noteë§Œ ë‚¨ê¹€)
- âœ… CallType enum ì œê±°

---

## ğŸ”„ ì§€ê¸ˆë¶€í„° í•´ì•¼ í•  ì‘ì—…

### Phase 1: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (10ë¶„)

#### 1.1 ê°œë°œ ì„œë²„ ëª¨ë‘ ì¢…ë£Œ
```bash
# ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  npm í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
taskkill /F /IM node.exe

# ë˜ëŠ” Ctrl+Cë¡œ ëª¨ë“  í„°ë¯¸ë„ ì¢…ë£Œ
```

#### 1.2 Prisma Client ì¬ìƒì„±
```bash
npx prisma generate
```

**ì—ëŸ¬ ë°œìƒ ì‹œ:**
```bash
# node_modules ìºì‹œ ì •ë¦¬
rm -rf node_modules/.prisma
rm -rf node_modules/@prisma

# ë‹¤ì‹œ ìƒì„±
npx prisma generate
```

#### 1.3 ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì‹¤í–‰
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
npx prisma migrate dev --name add_customer_management_card_fields

# í”„ë¡¬í”„íŠ¸ì—ì„œ "Yes" ì„ íƒ
```

**ì¤‘ìš”:** ì´ ëª…ë ¹ì€ ê¸°ì¡´ ë°ì´í„°ë¥¼ ë³´ì¡´í•©ë‹ˆë‹¤! (ìƒˆ í•„ë“œëŠ” ëª¨ë‘ nullable)

#### 1.4 ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸
```bash
# DB í™•ì¸
npx prisma studio

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5555 ì—´ë¦¼
# Customer í…Œì´ë¸”ì— ìƒˆ í•„ë“œë“¤ì´ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸
# ê¸°ì¡´ 50ê±´ ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œ ìˆëŠ”ì§€ í™•ì¸
```

---

### Phase 2: Validation ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸ (20ë¶„)

#### 2.1 Customer Validation ìˆ˜ì •

**íŒŒì¼: `lib/validations/customer.ts`**

```typescript
import { z } from 'zod'

// ê¸°ì¡´ ìŠ¤í‚¤ë§ˆì— ì¶”ê°€
export const createCustomerSchema = z.object({
  name: z.string().min(2, 'ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤'),
  phone: z.string().regex(
    /^(0[0-9]{1,2}|1[0-9]{3})[0-9]{6,8}$/,
    'ìœ íš¨í•œ ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'
  ),
  email: z.string().email('ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”').optional().or(z.literal('')),
  address: z.string().optional(),
  memo: z.string().optional(),

  // ê°œì¸ ì •ë³´ (ìƒˆë¡œ ì¶”ê°€)
  gender: z.enum(['MALE', 'FEMALE']).optional(),
  ageRange: z.enum(['TWENTIES', 'THIRTIES', 'FORTIES', 'FIFTIES', 'SIXTIES_PLUS']).optional(),
  residenceArea: z.string().optional(),
  familyRelation: z.string().optional(),
  occupation: z.string().optional(),

  // ì˜ì—… ì •ë³´ (ìƒˆë¡œ ì¶”ê°€)
  source: z.enum(['AD', 'TM', 'FIELD', 'REFERRAL']).optional(),
  investmentStyle: z.string().optional(), // JSON string
  expectedBudget: z.number().int().positive().optional(),
  ownedProperties: z.string().optional(), // JSON string
  recentVisitedMH: z.string().optional(),

  assignedUserId: z.string().optional(),
})

export const updateCustomerSchema = createCustomerSchema.partial()

export type CreateCustomerInput = z.infer<typeof createCustomerSchema>
export type UpdateCustomerInput = z.infer<typeof updateCustomerSchema>
```

#### 2.2 CallLog Validation ìƒì„±

**íŒŒì¼: `lib/validations/call-log.ts` (ìƒˆ íŒŒì¼)**

```typescript
import { z } from 'zod'

export const createCallLogSchema = z.object({
  customerId: z.string(),
  content: z.string().min(1, 'í†µí™” ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'),
  note: z.string().optional(),
})

export const updateCallLogSchema = createCallLogSchema.partial()

export type CreateCallLogInput = z.infer<typeof createCallLogSchema>
export type UpdateCallLogInput = z.infer<typeof updateCallLogSchema>
```

---

### Phase 3: API ë¼ìš°íŠ¸ ì—…ë°ì´íŠ¸ (30ë¶„)

#### 3.1 CallLog API ìˆ˜ì •

**íŒŒì¼: `app/api/call-logs/route.ts`**

ê¸°ì¡´ íŒŒì¼ì„ ì°¾ì•„ì„œ ìˆ˜ì •:
```typescript
// ê¸°ì¡´ import ìˆ˜ì •
import { createCallLogSchema } from '@/lib/validations/call-log'

// POST í•¸ë“¤ëŸ¬ì˜ body validation ë¶€ë¶„ ìˆ˜ì •
const validatedData = createCallLogSchema.parse(body)

// Prisma create ë¶€ë¶„ ìˆ˜ì •
await prisma.callLog.create({
  data: {
    customerId: validatedData.customerId,
    userId: session.user.id,
    content: validatedData.content,
    note: validatedData.note || null,
  },
})
```

#### 3.2 Customer API - ìƒˆ í•„ë“œ ì²˜ë¦¬ í™•ì¸

**íŒŒì¼: `app/api/customers/route.ts`**

ì´ë¯¸ `createCustomerSchema`ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ìë™ìœ¼ë¡œ ìƒˆ í•„ë“œê°€ ì²˜ë¦¬ë©ë‹ˆë‹¤.
ì¶”ê°€ ìˆ˜ì • í•„ìš” ì—†ìŒ!

#### 3.3 Customer Detail API - include í™•ì¸

**íŒŒì¼: `app/api/customers/[id]/route.ts`**

ì´ë¯¸ ìˆ˜ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì¶”ê°€ ì‘ì—… ì—†ìŒ!

---

### Phase 4: UI ì¬ì„¤ê³„ (1-1.5ì‹œê°„)

#### 4.1 ê³ ê° ë“±ë¡/ìˆ˜ì • í¼ ì»´í¬ë„ŒíŠ¸

**íŒŒì¼: `app/dashboard/customers/new/page.tsx` (ë˜ëŠ” ìœ ì‚¬í•œ íŒŒì¼)**

ì°¾ì•„ì„œ ë‹¤ìŒ í•„ë“œ ì¶”ê°€:

```typescript
// ì„±ë³„
<Select name="gender">
  <SelectTrigger>
    <SelectValue placeholder="ì„±ë³„ ì„ íƒ" />
  </SelectTrigger>
  <SelectContent>
    <SelectItem value="MALE">ë‚¨</SelectItem>
    <SelectItem value="FEMALE">ì—¬</SelectItem>
  </SelectContent>
</Select>

// ë‚˜ì´ëŒ€
<Select name="ageRange">
  <SelectTrigger>
    <SelectValue placeholder="ë‚˜ì´ëŒ€ ì„ íƒ" />
  </SelectTrigger>
  <SelectContent>
    <SelectItem value="TWENTIES">20ëŒ€</SelectItem>
    <SelectItem value="THIRTIES">30ëŒ€</SelectItem>
    <SelectItem value="FORTIES">40ëŒ€</SelectItem>
    <SelectItem value="FIFTIES">50ëŒ€</SelectItem>
    <SelectItem value="SIXTIES_PLUS">60ëŒ€ ì´ìƒ</SelectItem>
  </SelectContent>
</Select>

// ê±°ì£¼ì§€ì—­
<Input name="residenceArea" placeholder="ê±°ì£¼ì§€ì—­" />

// ê°€ì¡±ê´€ê³„
<Input name="familyRelation" placeholder="ê°€ì¡±ê´€ê³„" />

// ì§ì—…
<Input name="occupation" placeholder="ì§ì—…" />

// ë¶„ë¥˜ (ê´‘ê³ /TM/í•„ë“œ/ì†Œê°œ)
<Select name="source">
  <SelectTrigger>
    <SelectValue placeholder="ë¶„ë¥˜ ì„ íƒ" />
  </SelectTrigger>
  <SelectContent>
    <SelectItem value="AD">ê´‘ê³ </SelectItem>
    <SelectItem value="TM">TM</SelectItem>
    <SelectItem value="FIELD">í•„ë“œ</SelectItem>
    <SelectItem value="REFERRAL">ì†Œê°œ</SelectItem>
  </SelectContent>
</Select>

// íˆ¬ìì„±í–¥ (ì²´í¬ë°•ìŠ¤)
<div className="space-y-2">
  <Label>íˆ¬ìì„±í–¥</Label>
  <div className="flex gap-4">
    <label className="flex items-center gap-2">
      <input type="checkbox" name="investmentStyle.timeProfit" />
      <span>ì‹œì„¸ì°¨ìµ</span>
    </label>
    <label className="flex items-center gap-2">
      <input type="checkbox" name="investmentStyle.monthlyIncome" />
      <span>ì›”ìˆ˜ìµ</span>
    </label>
    <label className="flex items-center gap-2">
      <input type="checkbox" name="investmentStyle.residence" />
      <span>ì‹¤ê±°ì£¼</span>
    </label>
  </div>
</div>

// ì˜ˆìƒíˆ¬ìê¸ˆì•¡
<Input
  name="expectedBudget"
  type="number"
  placeholder="ì˜ˆìƒíˆ¬ìê¸ˆì•¡ (ë§Œì› ë‹¨ìœ„, ê³„ì•½ê¸ˆ ê¸°ì¤€)"
/>

// ë³´ìœ í˜„í™© (ì²´í¬ë°•ìŠ¤)
<div className="space-y-2">
  <Label>ë³´ìœ í˜„í™©</Label>
  <div className="flex gap-4">
    <label className="flex items-center gap-2">
      <input type="checkbox" name="ownedProperties.apt" />
      <span>APT</span>
    </label>
    <label className="flex items-center gap-2">
      <input type="checkbox" name="ownedProperties.officetel" />
      <span>ì˜¤í”¼ìŠ¤í…”</span>
    </label>
    <label className="flex items-center gap-2">
      <input type="checkbox" name="ownedProperties.commercial" />
      <span>ìƒê°€</span>
    </label>
    <label className="flex items-center gap-2">
      <input type="checkbox" name="ownedProperties.building" />
      <span>ê±´ë¬¼</span>
    </label>
  </div>
</div>

// ìµœê·¼ ë°©ë¬¸ ëª¨ë¸í•˜ìš°ìŠ¤
<Input name="recentVisitedMH" placeholder="ìµœê·¼ ë°©ë¬¸ ëª¨ë¸í•˜ìš°ìŠ¤" />
```

#### 4.2 ê³ ê° ìƒì„¸ í˜ì´ì§€ ìˆ˜ì •

**íŒŒì¼: `app/dashboard/customers/[id]/page.tsx`**

ê¸°ì¡´ í†µí™”ê¸°ë¡ ë¶€ë¶„ ì°¾ì•„ì„œ ìˆ˜ì •:

```typescript
// í†µí™” ê¸°ë¡ ì¶”ê°€ í¼ (ê¸°ì¡´ ë³µì¡í•œ ê²ƒì„ ê°„ë‹¨í•˜ê²Œ êµì²´)
const [newCallLog, setNewCallLog] = useState({
  content: '',
  note: ''
})

// í†µí™” ê¸°ë¡ ì¶”ê°€ í•¨ìˆ˜
const handleAddCallLog = async () => {
  try {
    const response = await fetch('/api/call-logs', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        customerId: params.id,
        content: newCallLog.content,
        note: newCallLog.note
      })
    })

    if (response.ok) {
      await fetchCustomerData()
      setNewCallLog({ content: '', note: '' })
      toast({ title: 'ì„±ê³µ', description: 'í†µí™” ê¸°ë¡ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.' })
    }
  } catch (error) {
    toast({ title: 'ì˜¤ë¥˜', description: 'í†µí™” ê¸°ë¡ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', variant: 'destructive' })
  }
}

// UI (ê°„ì†Œí™”ëœ í†µí™”ê¸°ë¡ ì…ë ¥)
<Card>
  <CardHeader>
    <CardTitle>í†µí™” ê¸°ë¡</CardTitle>
  </CardHeader>
  <CardContent>
    <div className="space-y-4">
      {/* ë¹ ë¥¸ ë©”ëª¨ ì…ë ¥ */}
      <div className="space-y-2">
        <Textarea
          placeholder="í†µí™” ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."
          value={newCallLog.content}
          onChange={(e) => setNewCallLog({ ...newCallLog, content: e.target.value })}
          rows={3}
        />
        <Input
          placeholder="ë¹„ê³  (ì„ íƒì‚¬í•­)"
          value={newCallLog.note}
          onChange={(e) => setNewCallLog({ ...newCallLog, note: e.target.value })}
        />
        <Button onClick={handleAddCallLog} disabled={!newCallLog.content}>
          í†µí™” ê¸°ë¡ ì €ì¥
        </Button>
      </div>

      {/* í†µí™” ê¸°ë¡ ëª©ë¡ */}
      <div className="space-y-3">
        {customer.callLogs && customer.callLogs.map((log) => (
          <div key={log.id} className="border-l-4 border-blue-500 pl-4 py-2">
            <div className="flex items-center justify-between mb-1">
              <span className="text-sm font-medium">{log.user.name}</span>
              <span className="text-xs text-gray-500">
                {format(new Date(log.createdAt), 'yyyy.MM.dd HH:mm', { locale: ko })}
              </span>
            </div>
            <p className="text-sm">{log.content}</p>
            {log.note && (
              <p className="text-xs text-gray-600 mt-1">ë¹„ê³ : {log.note}</p>
            )}
          </div>
        ))}
      </div>
    </div>
  </CardContent>
</Card>
```

ìƒˆ ê³ ê° ì •ë³´ í‘œì‹œ ì„¹ì…˜ ì¶”ê°€:

```typescript
{/* ê°œì¸ ì •ë³´ ì„¹ì…˜ */}
<Card>
  <CardHeader>
    <CardTitle>ê°œì¸ ì •ë³´</CardTitle>
  </CardHeader>
  <CardContent className="grid grid-cols-2 gap-4">
    <div>
      <Label className="text-gray-600">ì„±ë³„</Label>
      <p>{customer.gender === 'MALE' ? 'ë‚¨' : customer.gender === 'FEMALE' ? 'ì—¬' : '-'}</p>
    </div>
    <div>
      <Label className="text-gray-600">ë‚˜ì´ëŒ€</Label>
      <p>
        {customer.ageRange === 'TWENTIES' ? '20ëŒ€' :
         customer.ageRange === 'THIRTIES' ? '30ëŒ€' :
         customer.ageRange === 'FORTIES' ? '40ëŒ€' :
         customer.ageRange === 'FIFTIES' ? '50ëŒ€' :
         customer.ageRange === 'SIXTIES_PLUS' ? '60ëŒ€ ì´ìƒ' : '-'}
      </p>
    </div>
    <div>
      <Label className="text-gray-600">ê±°ì£¼ì§€ì—­</Label>
      <p>{customer.residenceArea || '-'}</p>
    </div>
    <div>
      <Label className="text-gray-600">ê°€ì¡±ê´€ê³„</Label>
      <p>{customer.familyRelation || '-'}</p>
    </div>
    <div>
      <Label className="text-gray-600">ì§ì—…</Label>
      <p>{customer.occupation || '-'}</p>
    </div>
    <div>
      <Label className="text-gray-600">ë¶„ë¥˜</Label>
      <p>
        {customer.source === 'AD' ? 'ê´‘ê³ ' :
         customer.source === 'TM' ? 'TM' :
         customer.source === 'FIELD' ? 'í•„ë“œ' :
         customer.source === 'REFERRAL' ? 'ì†Œê°œ' : '-'}
      </p>
    </div>
  </CardContent>
</Card>

{/* ì˜ì—… ì •ë³´ ì„¹ì…˜ */}
<Card>
  <CardHeader>
    <CardTitle>ì˜ì—… ì •ë³´</CardTitle>
  </CardHeader>
  <CardContent className="space-y-4">
    <div>
      <Label className="text-gray-600">íˆ¬ìì„±í–¥</Label>
      <div className="flex gap-2 mt-1">
        {customer.investmentStyle && JSON.parse(customer.investmentStyle).timeProfit && (
          <Badge>ì‹œì„¸ì°¨ìµ</Badge>
        )}
        {customer.investmentStyle && JSON.parse(customer.investmentStyle).monthlyIncome && (
          <Badge>ì›”ìˆ˜ìµ</Badge>
        )}
        {customer.investmentStyle && JSON.parse(customer.investmentStyle).residence && (
          <Badge>ì‹¤ê±°ì£¼</Badge>
        )}
        {!customer.investmentStyle && '-'}
      </div>
    </div>
    <div>
      <Label className="text-gray-600">ì˜ˆìƒíˆ¬ìê¸ˆì•¡ (ê³„ì•½ê¸ˆ ê¸°ì¤€)</Label>
      <p>{customer.expectedBudget ? `${customer.expectedBudget.toLocaleString()}ë§Œì›` : '-'}</p>
    </div>
    <div>
      <Label className="text-gray-600">ë³´ìœ í˜„í™©</Label>
      <div className="flex gap-2 mt-1">
        {customer.ownedProperties && JSON.parse(customer.ownedProperties).apt && (
          <Badge variant="outline">APT</Badge>
        )}
        {customer.ownedProperties && JSON.parse(customer.ownedProperties).officetel && (
          <Badge variant="outline">ì˜¤í”¼ìŠ¤í…”</Badge>
        )}
        {customer.ownedProperties && JSON.parse(customer.ownedProperties).commercial && (
          <Badge variant="outline">ìƒê°€</Badge>
        )}
        {customer.ownedProperties && JSON.parse(customer.ownedProperties).building && (
          <Badge variant="outline">ê±´ë¬¼</Badge>
        )}
        {!customer.ownedProperties && '-'}
      </div>
    </div>
    <div>
      <Label className="text-gray-600">ìµœê·¼ ë°©ë¬¸ ëª¨ë¸í•˜ìš°ìŠ¤</Label>
      <p>{customer.recentVisitedMH || '-'}</p>
    </div>
  </CardContent>
</Card>
```

---

### Phase 5: í…ŒìŠ¤íŠ¸ ë° ë°°í¬ (30ë¶„)

#### 5.1 ê°œë°œ ì„œë²„ ì¬ì‹œì‘
```bash
npm run dev
```

#### 5.2 í…ŒìŠ¤íŠ¸ í•­ëª©

**âœ… ê¸°ì¡´ ë°ì´í„° í™•ì¸:**
- [ ] ê¸°ì¡´ 50ê±´ ê³ ê° ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œ ìˆëŠ”ì§€
- [ ] ê¸°ì¡´ ê³ ê° ìƒì„¸ í˜ì´ì§€ê°€ ì—ëŸ¬ ì—†ì´ ì—´ë¦¬ëŠ”ì§€

**âœ… ìƒˆ ê³ ê° ë“±ë¡:**
- [ ] ëª¨ë“  ìƒˆ í•„ë“œê°€ ì…ë ¥ ê°€ëŠ¥í•œì§€
- [ ] ì„±ë³„, ë‚˜ì´ëŒ€, ë¶„ë¥˜ ì„ íƒ ê°€ëŠ¥í•œì§€
- [ ] íˆ¬ìì„±í–¥, ë³´ìœ í˜„í™© ì²´í¬ë°•ìŠ¤ ì‘ë™í•˜ëŠ”ì§€
- [ ] ë“±ë¡ í›„ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì •ë³´ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ì§€

**âœ… í†µí™” ê¸°ë¡:**
- [ ] ê°„ì†Œí™”ëœ í†µí™” ê¸°ë¡ ì…ë ¥ í¼ì´ ì‘ë™í•˜ëŠ”ì§€
- [ ] í†µí™” ë‚´ìš©ë§Œ ì…ë ¥í•´ë„ ì €ì¥ ê°€ëŠ¥í•œì§€
- [ ] ë¹„ê³ ëŠ” ì„ íƒì‚¬í•­ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€

#### 5.3 Git ì»¤ë°‹ ë° í‘¸ì‹œ
```bash
# ë³€ê²½ì‚¬í•­ í™•ì¸
git status

# ëª¨ë“  ë³€ê²½ì‚¬í•­ ì¶”ê°€
git add -A

# ì»¤ë°‹
git commit -m "feat: ì˜¨ì‹œì•„ ê³ ê°ê´€ë¦¬ì¹´ë“œ ì‹œìŠ¤í…œ êµ¬í˜„

- Customer ëª¨ë¸ì— ê°œì¸ì •ë³´ í•„ë“œ ì¶”ê°€ (gender, ageRange, residenceArea, familyRelation, occupation)
- Customer ëª¨ë¸ì— ì˜ì—…ì •ë³´ í•„ë“œ ì¶”ê°€ (source, investmentStyle, expectedBudget, ownedProperties, recentVisitedMH)
- Enum íƒ€ì… ì¶”ê°€ (Gender, AgeRange, CustomerSource)
- CallLog ëª¨ë¸ ê°„ì†Œí™” (content, noteë§Œ ìœ ì§€)
- Validation ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸
- UI ì¬ì„¤ê³„ (ê´€ë¦¬ì¹´ë“œ í˜•íƒœ)
- í†µí™”ê¸°ë¡ ê°„ì†Œí™” (ë¹ ë¥¸ ë©”ëª¨ ì…ë ¥)"

# GitHub í‘¸ì‹œ
git push origin wsl
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: Prisma generate ì‹¤íŒ¨ (EPERM)
```bash
# í•´ê²°: ëª¨ë“  node í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
taskkill /F /IM node.exe

# ìºì‹œ ì •ë¦¬
rm -rf node_modules/.prisma
rm -rf node_modules/@prisma

# ë‹¤ì‹œ ìƒì„±
npx prisma generate
```

### ë¬¸ì œ 2: ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ˆê¸°í™” (ì£¼ì˜: ê°œë°œ í™˜ê²½ì—ì„œë§Œ!)
npx prisma migrate reset

# ìƒˆë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma migrate dev --name init
```

### ë¬¸ì œ 3: íƒ€ì… ì—ëŸ¬
```bash
# Prisma Client ì¬ìƒì„±
npx prisma generate

# TypeScript ì„œë²„ ì¬ì‹œì‘ (VSCode)
# Ctrl+Shift+P â†’ "TypeScript: Restart TS Server"
```

---

## ğŸ“ ì‘ì—… ìˆœì„œ ìš”ì•½

```bash
# 1. ì„œë²„ ì¢…ë£Œ
taskkill /F /IM node.exe

# 2. Prisma Client ìƒì„±
npx prisma generate

# 3. ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma migrate dev --name add_customer_management_card_fields

# 4. ì½”ë“œ ìˆ˜ì • (ìœ„ ê°€ì´ë“œ ì°¸ê³ )
# - lib/validations/customer.ts
# - lib/validations/call-log.ts (ìƒˆ íŒŒì¼)
# - app/api/call-logs/route.ts
# - app/dashboard/customers/new/page.tsx
# - app/dashboard/customers/[id]/page.tsx

# 5. ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev

# 6. í…ŒìŠ¤íŠ¸
# - http://localhost:3007
# - ê¸°ì¡´ ë°ì´í„° í™•ì¸
# - ìƒˆ ê³ ê° ë“±ë¡
# - í†µí™” ê¸°ë¡ ì¶”ê°€

# 7. Git ì»¤ë°‹ & í‘¸ì‹œ
git add -A
git commit -m "feat: ì˜¨ì‹œì•„ ê³ ê°ê´€ë¦¬ì¹´ë“œ ì‹œìŠ¤í…œ êµ¬í˜„"
git push origin wsl
```

---

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„

- Phase 1 (DB ë§ˆì´ê·¸ë ˆì´ì…˜): **10ë¶„**
- Phase 2 (Validation): **20ë¶„**
- Phase 3 (API): **30ë¶„**
- Phase 4 (UI): **60-90ë¶„**
- Phase 5 (í…ŒìŠ¤íŠ¸ & ë°°í¬): **30ë¶„**

**ì´ ì˜ˆìƒ ì‹œê°„: 2.5 - 3ì‹œê°„**

---

## ğŸ“ ë„ì›€ì´ í•„ìš”í•˜ë©´

ì‘ì—… ì¤‘ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì–´ë””ê¹Œì§€ ì§„í–‰í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”!
